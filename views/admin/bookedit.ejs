<!DOCTYPE html>
<html>
<head>
		<%-include('../partials/adminHead',{pageTitle:'Edit'})%>
</head>
<body>

	<%-include('../partials/adminNav')%>
	<h2 class="text-center m-4 text-capitalize"><%=book.title%></h2>
	
	<div class="bookedit-container mb-5">
		<a href="/book/<%=book._id%>"><button class="btn btn-primary button mb-2 float-right">View</button></a>
		<br><br>
		<form method="POST" action="/admin/bookedit/<%=book._id%>"enctype="multipart/form-data">
			<div class="form-group row">
				<label for="inputEmail3" class="col-sm-2 col-form-label">Title</label>
				<div class="col-sm-10">
					<input name="title" type="text" class="form-control" id="inputEmail3" placeholder="Title" value="<%=book.title%>" required>
				</div>
			</div>
			<div class="form-group row">
				<label for="inputPassword3" class="col-sm-2 col-form-label">Author</label>
				<div class="col-sm-10">
					<input name="author" type="text" class="form-control" id="inputPassword3" placeholder="Author" value="<%=book.author%>" required>
				</div>
			</div>
			<div class="form-group row">
				<label for="inputEmail3" class="col-sm-2 col-form-label">isbn</label>
				<div class="col-sm-10">
					<input name="isbn" type="number" class="form-control" id="inputEmail3" placeholder="isbn" value="<%=book.isbn%>" required>
				</div>
			</div>
			<div class="form-group">
				<label for="exampleFormControlTextarea1">Synopsis</label>
				<textarea name="synopsis" class="form-control" id="exampleFormControlTextarea1" rows="6"required><%=book.synopsis%></textarea>
			</div>
			<div class="form-group row">
				<label for="inputEmail3" class="col-sm-2 col-form-label">Price</label>
				<div class="col-sm-10">
					<input name="price" type="number" class="form-control" id="inputEmail3" value="<%=book.price%>" placeholder="Price(KES)" required>
				</div>
			</div>
			<div class="form-group row">
				<label for="inputPassword3" class="col-sm-2 col-form-label">Condition</label>
				<div class="col-sm-10">
					<input name="condition" type="number" class="form-control" id="inputPassword3" placeholder="Condition" value="<%=book.condition%>" required>
				</div>
			</div>
			<div class="form-group row">
			<label for="inputEmail3" class="col-sm-2 col-form-label">Category</label>
			<div class="col-sm-10">
				<input name="cat" type="text" class="form-control" id="inputEmail3" value="<%=book.cat.toString()%>" placeholder="category" required>
			</div>
			</div>
			<div class="form-group row">
				<label for="inputPassword3" class="col-sm-2 col-form-label">Page-Count</label>
				<div class="col-sm-10">
					<input name="pages" type="number" class="form-control" id="inputPassword3" value="<%=book.pages%>" placeholder="Page-Count" required>
				</div>
			</div>
			<div class="form-group row">
				<label for="inputPassword3" class="col-sm-2 col-form-label">Availabile</label>
				<div class="col-sm-10">
						<select name="available" class="custom-select mb-4" >
								<% let options=[false,true];%>
								<% options.forEach(function(option,i){ %>
									<% let selected = (book.available === option ) ? "selected" : ""; %>
									<option value="<%=option%>" <%=selected%> ><%=option%> </option>
								<% }) %>
							</select>
				</div>
			</div>
			<div class="form-group row">
					<label for="inputPassword3" class="col-sm-2 col-form-label">Gallery</label>
					<div class="col-sm-10">
					<span class="input-group-text mb-3" id="input2">Images</span>
				
					<input type="file" name="gallery" id="file-with-multi-file" class="input-default-js" data-multiple-target="{target} files selected"
						multiple>
	
					</label>
				</div>
			</div>

			<button type="submit" class="btn btn-primary button btn-block mt-5 mb-3">Update</button>
		</form>
		<a href="/admin/book/<%=book._id%>/delete"><button class="btn btn-danger btn-block mb-5">Delete</button></a> 
	</div>
	<%-include('../partials/adminFooter',{user:user})%>
</body>
</html>

